# Update Documentation Task

**目的**: 在代码更改后更新文档。

## 任务描述

你正在更新代码更改后的文档。

## 1. 识别更改

- 检查 git diff 或最近的提交以了解修改的文件
- 识别更改/添加了哪些功能/模块
- 注意任何新文件、删除的文件或重命名的文件

## 2. 验证当前实现

**关键**: 不要信任现有文档。

对于每个更改的文件：
- 阅读当前实现
- 理解实际行为（不是文档的行为）
- 注意与现有文档的任何差异

## 3. 更新相关文档

### CHANGELOG.md
在"Unreleased"部分添加条目：
- 使用类别：Added, Changed, Fixed, Security, Deprecated, Removed
- 使用简洁、面向用户的语言
- 包含相关的 issue/PR 引用

```markdown
## [Unreleased]

### Added
- 新功能 X，可以做 Y (#123)

### Changed
- 更新 Z 以提高性能 (#124)

### Fixed
- 修复了 A 中的边缘情况 (#125)
```

### README.md
如果适用，更新：
- 功能列表
- 使用示例
- API 参考
- 配置选项
- 安装/设置步骤

### API 文档
如果有 API 更改：
- 更新端点描述
- 更新请求/响应示例
- 记录新参数或更改的参数
- 更新错误代码和消息

### 代码注释
确保：
- 函数/类有 JSDoc/文档字符串
- 复杂逻辑有内联注释
- 公共 API 有清晰的使用示例

## 4. 文档风格规则

- **简洁**: 直达重点，避免冗长
- **面向用户**: 关注用户需要知道什么，而不是实现细节
- **示例**: 在适当的地方包含代码示例
- **更新**: 删除过时的信息
- **一致**: 遵循现有的文档风格和格式

## 5. 文档检查清单

完成前验证：
- [ ] CHANGELOG 有所有用户可见的更改
- [ ] README 反映当前功能
- [ ] API 文档是最新的
- [ ] 代码注释是清晰和准确的
- [ ] 示例代码可以工作
- [ ] 没有断开的链接或引用
- [ ] 版本号是正确的（如适用）

## 输出格式

```markdown
## 文档更新摘要

### 更新的文件
- [ ] CHANGELOG.md
- [ ] README.md
- [ ] [其他文档文件]

### 主要更改
1. **[文档文件]**
   - 添加: [新增内容]
   - 更新: [更新内容]
   - 删除: [删除内容]

2. **[文档文件]**
   - [更改]

### CHANGELOG 条目
```markdown
[显示将添加到 CHANGELOG 的确切条目]
```

### 需要审查
- [任何需要技术审查或澄清的项目]
```

## 重要原则

1. **准确性优于完整性**: 宁可跳过文档也不要记录错误的内容
2. **面向用户**: 从用户的角度写作，而不是实现者
3. **保持同步**: 文档应该反映代码，而不是代码应该做什么
4. **版本化**: 如果是破坏性更改，要明确
5. **可搜索**: 使用清晰的术语和关键词

## 特殊情况

### 破坏性更改
- 在 CHANGELOG 中明确标记
- 提供迁移指南
- 包含"之前"和"之后"的示例

### 新功能
- 添加功能概述
- 包含使用示例
- 记录任何配置选项

### Bug 修复
- 描述修复的问题
- 如果相关，解释根本原因
- 提及任何行为变化

